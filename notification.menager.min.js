!function(t,e){"use strict";function n(t){t=t||{},this.container=t.container||e("body"),this.notificationNode=e("<p>",{"class":"notification non op0"})}var i=n.prototype;i.render=function(e,n){if(!this.destroyed){var i=this;t.setTimeout(function(){i.container.append(i.notificationNode),s.showNode(i.notificationNode,function(){n&&n(i)})},e||0)}},i.remove=function(e,n){if(!this.destroyed){var i=this;t.setTimeout(function(){i.notificationNode.addClass("op0"),s.hideNode(i.notificationNode,function(){i.notificationNode.remove(),n&&n(i)})},e||0)}},i.addMsg=function(t,e){if(!this.destroyed&&t){t.id=t.id||this.generateId();var n=this.msgs=this.msgs||[];this.msgIndexmap=this.msgIndexmap||{};var i=n.length;if(n.push({id:t.id,index:i,type:t.type||"",text:t.text,isLast:!0}),n[i-1]&&delete n[i-1].isLast,this.msgIndexmap[t.id]=i,!e)return this.renderMsg(),t.id}},i.renderMsg=function(t){if(!this.destroyed){var n=this.getMsg(t);if(n&&!n.rendered){var i=e("<span>",{id:n.id,text:n.text,"class":"notf-msg non"});n.type&&i.addClass(n.type),this.notificationNode.append(i),s.showNode(i),n.node=i,n.rendered=!0}}},i.hideMsg=function(t){if(!this.destroyed){var e=this.getMsg(t);e&&!e.rendered&&(e.node.addClass("non"),e.rendered=!1)}},i.removeMsg=function(t){if(!this.destroyed){var e=this.getMsg(t);if(e&&!e.rendered){var n=this.msgs;this.msgs.splice(e.index,1),delete this.msgIndexmap[e.id];for(var i=e.index,s=n.length;s>i;i++)n[i].index--,this.msgIndexmap[n[i].id]--;n[s-1]&&!n[s-1].isLast&&(n[s-1].isLast=!0)}}},i.getMsg=function(t){if(!this.destroyed){var e;return t=t||{},e="number"==typeof t.index?this.getMsgByIndex(t.index):t.id?this.getMsgById(t.id):this.getMsgByIndex(this.msgs.length-1)}},i.getMsgByIndex=function(t){return this.destroyed?void 0:this.msgs[t]},i.getMsgById=function(t){return this.destroyed?void 0:this.getMsgByIndex(this.msgIndexmap[t])},i.destroy=function(e,n){if(!this.destroyed){var i=this;t.setTimeout(function(){i.remove(null,function(t){for(var e in t)delete t[e];t.destroyed=!0,n&&n()})},e||0)}},i.randomArrayVal=function(t,e,n){if(!this.destroyed){var e=e||0,n=n||t.length-1,i=this.randomNumber(e,n);return t[i]}},i.randomNumber=function(t,e){return this.destroyed?void 0:Math.floor((Math.abs(e-t)+1)*Math.random())+Math.min(t,e)},i.generateId=function(){if(!this.destroyed){var t="",e=this.getAlphabet();return t=this.randomArrayVal(e),this.generateId.counter=this.generateId.counter||0,this.generateId.counter++,t+=this.generateId.counter}},i.getAlphabet=function(){return this.destroyed?void 0:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]};var s={};s.hideNode=function(t,n){var i=transitionEnd(t).whichTransitionEnd();i?t.addClass("optrans op0").on(i,function(t){e(this).removeClass("optrans op0").addClass("non"),n&&n()}):(e(this).addClass("non"),n&&n())},s.showNode=function(n,i){var s=transitionEnd(n).whichTransitionEnd();s?(n.addClass("optrans"),t.setTimeout(function(){n.removeClass("non op0").on(s,function(t){e(this).removeClass("optrans op1"),i&&i()})},50)):(e(this).removeClass("non op0"),i&&i())},t.createNotification=function(t){return new n(t)}}(window,jQuery,void 0);